<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>JS Class Exercise</title>
    <style>
      #statusBox {
        width: 50px;
        height: 50px;
        background-color: red;
      }
      table {
        border-collapse: collapse;
      }
      td {
        width: 50px;
        height: 50px;
        text-align: center;
        font-size: 20px;
        cursor: pointer;
      }
    </style>
    <script>
      function toggleCellValue(cell) {
        let arr = document.querySelectorAll(".toggleCell");
        if (arr[cell].innerHTML === "-1") {
          arr[cell].innerHTML = "1";
          arr[cell].style.backgroundColor = "greenyellow";
        } 
        else {
          arr[cell].innerHTML = "-1";
          arr[cell].style.backgroundColor = "transparent";
        }
        updateStatusBox();
      }
      function updateStatusBox() {
        let arr = document.querySelectorAll(".toggleCell");
        let statusBox = document.querySelector("statusBox");
        let sum = 0;
        for (let i = 0; i < arr.length; i++) {
            sum += parseInt(arr[i].innerHTML);
        }
        if (sum === 3){
          statusBox.style.backgroundColor = "greenyellow";
        } else {
          statusBox.style.backgroundColor = "red";
        }
      }

    </script>
  </head>
  <body>
    <table border="1">
      <tr>
        <td class="toggleCell" onclick="toggleCellValue(0)">-1</td>
        <td class="toggleCell" onclick="toggleCellValue(1)">-1</td>
        <td class="toggleCell" onclick="toggleCellValue(2)">-1</td>
        <td><div id="statusBox"></div></td>
      </tr>
    </table>
  </body>
</html>
